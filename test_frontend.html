<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>测试前端显示</title>
</head>
<body>
    <h1>测试报告生成响应处理</h1>
    <div id="reportResult"></div>

    <script>
        // 模拟后端返回的数据
        const testData = {
            "success": true,
            "message": "报告已成功生成到 reports/ 目录",
            "fileName": "db_metrics_report_20250927.xlsx 和 db_metrics_report_20250927.html",
            "previewUrl": "reports/db_metrics_report_20250927.html"
        };

        // 模拟前端处理逻辑
        const resultDiv = document.getElementById('reportResult');
        
        if (testData.success) {
            resultDiv.innerHTML = `
                <div style="background-color: #d4edda; color: #155724; padding: 1rem; border-radius: 8px; margin: 1rem 0; border-left: 4px solid #28a745;">
                    <strong>✅ 报告生成成功</strong><br>
                    ${testData.message || '报告已成功生成'}<br>
                    📊 查看报告: <a href="${testData.previewUrl}" target="_blank">${testData.fileName}</a>
                </div>
            `;
        } else {
            resultDiv.innerHTML = '<div style="background-color: #f8d7da; color: #721c24; padding: 1rem; border-radius: 8px; margin: 1rem 0; border-left: 4px solid #dc3545;">❌ 报告生成失败: ' + (testData.message || '未知错误') + '</div>';
        }
    </script>
</body>
</html>